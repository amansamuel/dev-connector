{"ast":null,"code":"import axios from \"axios\";\nimport { GET_POST, GET_POSTS, ADD_POST, DELETE_POST, POST_LOADING, GET_ERRORS } from \"./types\";\nexport const addPost = postData => dispatch => {\n  axios.post('api/post', postData).then(res => dispatch({\n    type: ADD_POST,\n    payload: res.data\n  })).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response.data\n  }));\n};\nexport const getPosts = () => dispatch => {\n  dispatch(setLoading());\n  axios.get('api/post').then(res => dispatch({\n    type: GET_POSTS,\n    payload: res.data\n  })).catch(err => dispatch({\n    type: GET_POSTS,\n    payload: null\n  }));\n};\nexport const removeLike = id => dispatch => {\n  axios.delete(`/api/post/unlike/${id}`).then(res => dispatch(getPosts())).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.respm\n  }));\n};\nexport const likePost = id => dispatch => {\n  axios.post(`/api/post/like/${id}`).then(res => dispatch(getPosts())).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response.data\n  }));\n};\nexport const deletePost = id => dispatch => {\n  axios.delete(`api/post/${id}`).then(res => dispatch({\n    type: DELETE_POST,\n    payload: id\n  })).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response.data\n  }));\n};\nexport const setLoading = () => {\n  return {\n    type: POST_LOADING\n  };\n};","map":{"version":3,"sources":["C:/Users/aman/Desktop/Dev-connector/client/src/actions/postAction.js"],"names":["axios","GET_POST","GET_POSTS","ADD_POST","DELETE_POST","POST_LOADING","GET_ERRORS","addPost","postData","dispatch","post","then","res","type","payload","data","catch","err","response","getPosts","setLoading","get","removeLike","id","delete","respm","likePost","deletePost"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,QAAT,EACIC,SADJ,EAEIC,QAFJ,EAGIC,WAHJ,EAIIC,YAJJ,EAKIC,UALJ,QAKqB,SALrB;AAOA,OAAO,MAAMC,OAAO,GAAIC,QAAD,IAAeC,QAAD,IAAc;AAC/CT,EAAAA,KAAK,CACJU,IADD,CACM,UADN,EACkBF,QADlB,EAEGG,IAFH,CAEQC,GAAG,IACPH,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAACV,QADA;AAELW,IAAAA,OAAO,EAACF,GAAG,CAACG;AAFP,GAAD,CAHZ,EAOKC,KAPL,CAOWC,GAAG,IACNR,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAACP,UADA;AAELQ,IAAAA,OAAO,EAACG,GAAG,CAACC,QAAJ,CAAaH;AAFhB,GAAD,CARhB;AAYH,CAbM;AAeP,OAAO,MAAMI,QAAQ,GAAG,MAAOV,QAAD,IAAc;AACxCA,EAAAA,QAAQ,CAACW,UAAU,EAAX,CAAR;AACApB,EAAAA,KAAK,CACJqB,GADD,CACK,UADL,EAEGV,IAFH,CAEQC,GAAG,IACPH,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAACX,SADA;AAELY,IAAAA,OAAO,EAACF,GAAG,CAACG;AAFP,GAAD,CAHZ,EAOKC,KAPL,CAOWC,GAAG,IACNR,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAACX,SADA;AAELY,IAAAA,OAAO,EAAC;AAFH,GAAD,CARhB;AAYH,CAdM;AAeP,OAAO,MAAMQ,UAAU,GAAGC,EAAD,IAAQd,QAAD,IAAc;AAC1CT,EAAAA,KAAK,CACFwB,MADH,CACW,oBAAmBD,EAAG,EADjC,EAEGZ,IAFH,CAEQC,GAAG,IAAGH,QAAQ,CAACU,QAAQ,EAAT,CAFtB,EAGGH,KAHH,CAGSC,GAAG,IACRR,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAACP,UADA;AAELQ,IAAAA,OAAO,EAACG,GAAG,CAACQ;AAFP,GAAD,CAJZ;AAQH,CATM;AAUP,OAAO,MAAMC,QAAQ,GAAGH,EAAD,IAAQd,QAAD,IAAc;AAC5CT,EAAAA,KAAK,CACFU,IADH,CACS,kBAAiBa,EAAG,EAD7B,EAEIZ,IAFJ,CAESC,GAAG,IACRH,QAAQ,CAACU,QAAQ,EAAT,CAHZ,EAIMH,KAJN,CAIYC,GAAG,IAAGR,QAAQ,CAAC;AACfI,IAAAA,IAAI,EAACP,UADU;AAEfQ,IAAAA,OAAO,EAACG,GAAG,CAACC,QAAJ,CAAaH;AAFN,GAAD,CAJ1B;AAQC,CATM;AAUP,OAAO,MAAMY,UAAU,GAAIJ,EAAD,IAASd,QAAD,IAAc;AAC5CT,EAAAA,KAAK,CACJwB,MADD,CACS,YAAWD,EAAG,EADvB,EAEGZ,IAFH,CAEQC,GAAG,IACPH,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAACT,WADA;AAELU,IAAAA,OAAO,EAACS;AAFH,GAAD,CAHZ,EAOKP,KAPL,CAOWC,GAAG,IACNR,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAACP,UADA;AAELQ,IAAAA,OAAO,EAACG,GAAG,CAACC,QAAJ,CAAaH;AAFhB,GAAD,CARhB;AAYH,CAbM;AAcP,OAAO,MAAMK,UAAU,GAAG,MAAM;AAE5B,SAAO;AACHP,IAAAA,IAAI,EAACR;AADF,GAAP;AAGH,CALM","sourcesContent":["import axios from \"axios\";\r\n\r\nimport { GET_POST,\r\n    GET_POSTS,\r\n    ADD_POST,\r\n    DELETE_POST,\r\n    POST_LOADING, \r\n    GET_ERRORS} from \"./types\";\r\n\r\nexport const addPost = (postData) => (dispatch) => {\r\n    axios\r\n    .post('api/post', postData)\r\n      .then(res =>\r\n        dispatch({\r\n            type:ADD_POST,\r\n            payload:res.data,\r\n        }))\r\n        .catch(err =>\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data\r\n            }))\r\n}\r\n\r\nexport const getPosts = () => (dispatch) => {\r\n    dispatch(setLoading());\r\n    axios\r\n    .get('api/post')\r\n      .then(res =>\r\n        dispatch({\r\n            type:GET_POSTS,\r\n            payload:res.data,\r\n        }))\r\n        .catch(err =>\r\n            dispatch({\r\n                type:GET_POSTS,\r\n                payload:null\r\n            }))\r\n}\r\nexport const removeLike =(id) =>(dispatch) => {\r\n    axios\r\n      .delete(`/api/post/unlike/${id}`)\r\n      .then(res =>dispatch(getPosts()))\r\n      .catch(err =>\r\n        dispatch({\r\n            type:GET_ERRORS,\r\n            payload:err.respm\r\n        }))\r\n}\r\nexport const likePost =(id) =>(dispatch) => {\r\naxios\r\n  .post(`/api/post/like/${id}`)\r\n   .then(res => \r\n    dispatch(getPosts())\r\n    ).catch(err =>dispatch({\r\n            type:GET_ERRORS,\r\n            payload:err.response.data\r\n        }))\r\n}\r\nexport const deletePost = (id) => (dispatch) => {\r\n    axios\r\n    .delete(`api/post/${id}`)\r\n      .then(res =>\r\n        dispatch({\r\n            type:DELETE_POST,\r\n            payload:id,\r\n        }))\r\n        .catch(err =>\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data\r\n            }))\r\n}\r\nexport const setLoading = () => {\r\n\r\n    return {\r\n        type:POST_LOADING \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}