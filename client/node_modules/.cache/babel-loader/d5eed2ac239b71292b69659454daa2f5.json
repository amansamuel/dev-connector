{"ast":null,"code":"import _defineProperty from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{PropTypes}from'prop-types';import{connect}from'react-redux';import TextAreaGroup from'../common/TextAreaGroup';import{addPost}from'../../actions/postAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostForm=/*#__PURE__*/function(_Component){_inherits(PostForm,_Component);var _super=_createSuper(PostForm);function PostForm(props){var _this;_classCallCheck(this,PostForm);_this=_super.call(this,props);_this.state={text:'',errors:{}};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(PostForm,[{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();var user=this.props.auth.user;var newPost={text:this.state.text,name:user.name,avatar:user.avatar};console.log(newPost);this.props.addPost(newPost);this.setState({text:' '});}},{key:\"onChange\",value:function onChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.errors){this.setState({errors:nextProps.errors});}}},{key:\"render\",value:function render(){var errors=this.state.errors;return/*#__PURE__*/_jsx(\"div\",{className:\"feed\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"post-form mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-info text-white\",children:\"Say Something...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(TextAreaGroup,{name:\"text\",value:this.state.text,placeholder:\"Create a Post\",onChange:this.onChange,errors:errors.text})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-dark\",children:\"Submit\"})]})})]})})})})})});}}]);return PostForm;}(Component);addPost.propTypes={addPost:PropTypes.func.isRequired,auth:PropTypes.object.isRequired,errors:PropTypes.object.isRequired};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps,{addPost:addPost})(PostForm);","map":{"version":3,"sources":["C:/Users/aman/Desktop/Dev-connector/client/src/components/post/PostForm.js"],"names":["React","Component","PropTypes","connect","TextAreaGroup","addPost","PostForm","props","state","text","errors","onChange","bind","onSubmit","e","preventDefault","user","auth","newPost","name","avatar","console","log","setState","target","value","nextProps","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"gvBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,SAAR,KAAwB,YAAxB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,yBAA1B,CACA,OAASC,OAAT,KAAwB,0BAAxB,C,2FACMC,CAAAA,Q,oGACF,kBAAYC,KAAZ,CAAmB,0CACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAW,CACPC,IAAI,CAAC,EADE,CAEPC,MAAM,CAAC,EAFA,CAAX,CAIA,MAAKC,QAAL,CAAc,MAAKA,QAAL,CAAcC,IAAd,+BAAd,CACA,MAAKC,QAAL,CAAc,MAAKA,QAAL,CAAcD,IAAd,+BAAd,CAPe,aAQlB,C,6CAED,kBAASE,CAAT,CAAY,CACRA,CAAC,CAACC,cAAF,GAEA,GAAOC,CAAAA,IAAP,CAAe,KAAKT,KAAL,CAAWU,IAA1B,CAAOD,IAAP,CAEA,GAAME,CAAAA,OAAO,CAAE,CACXT,IAAI,CAAC,KAAKD,KAAL,CAAWC,IADL,CAEXU,IAAI,CAACH,IAAI,CAACG,IAFC,CAGXC,MAAM,CAACJ,IAAI,CAACI,MAHD,CAAf,CAKAC,OAAO,CAACC,GAAR,CAAYJ,OAAZ,EACA,KAAKX,KAAL,CAAWF,OAAX,CAAmBa,OAAnB,EACA,KAAKK,QAAL,CAAc,CAACd,IAAI,CAAG,GAAR,CAAd,EAEH,C,wBACD,kBAASK,CAAT,CAAY,CAEP,KAAKS,QAAL,oBAAgBT,CAAC,CAACU,MAAF,CAASL,IAAzB,CAAiCL,CAAC,CAACU,MAAF,CAASC,KAA1C,GAEJ,C,yCACD,mCAA0BC,SAA1B,CAAqC,CACjC,GAAGA,SAAS,CAAChB,MAAb,CAAqB,CACjB,KAAKa,QAAL,CAAc,CAACb,MAAM,CAACgB,SAAS,CAAChB,MAAlB,CAAd,EAEH,CACJ,C,sBAED,iBAAS,CACN,GAAOA,CAAAA,MAAP,CAAiB,KAAKF,KAAtB,CAAOE,MAAP,CACC,mBACI,YAAK,SAAS,CAAC,MAAf,uBACI,YAAK,SAAS,CAAC,WAAf,uBACA,YAAK,SAAS,CAAC,KAAf,uBACI,YAAK,SAAS,CAAC,WAAf,uBACA,YAAK,SAAS,CAAC,gBAAf,uBACI,aAAK,SAAS,CAAC,gBAAf,wBACA,YAAK,SAAS,CAAC,gCAAf,8BADA,cAIA,YAAK,SAAS,CAAC,WAAf,uBACI,cAAM,QAAQ,CAAE,KAAKG,QAArB,wBACI,YAAK,SAAS,CAAC,YAAf,uBACI,KAAC,aAAD,EACA,IAAI,CAAC,MADL,CAEA,KAAK,CAAE,KAAKL,KAAL,CAAWC,IAFlB,CAGA,WAAW,CAAC,eAHZ,CAIA,QAAQ,CAAE,KAAKE,QAJf,CAKA,MAAM,CAAED,MAAM,CAACD,IALf,EADJ,EADJ,cAUI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,cAAhC,oBAVJ,GADJ,EAJA,GADJ,EADA,EADJ,EADA,EADJ,EADJ,CAgCH,C,sBAxEkBR,S,EA0EvBI,OAAO,CAACsB,SAAR,CAAkB,CACdtB,OAAO,CAACH,SAAS,CAAC0B,IAAV,CAAeC,UADT,CAEdZ,IAAI,CAACf,SAAS,CAAC4B,MAAV,CAAiBD,UAFR,CAGdnB,MAAM,CAACR,SAAS,CAAC4B,MAAV,CAAiBD,UAHV,CAAlB,CAMA,GAAME,CAAAA,eAAe,CAAE,QAAjBA,CAAAA,eAAiB,CAACvB,KAAD,QAAW,CAClCS,IAAI,CAACT,KAAK,CAACS,IADuB,CAElCP,MAAM,CAACF,KAAK,CAACE,MAFqB,CAAX,EAAvB,CAMA,cAAeP,CAAAA,OAAO,CAAC4B,eAAD,CAAkB,CAAC1B,OAAO,CAAPA,OAAD,CAAlB,CAAP,CAAoCC,QAApC,CAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport {PropTypes} from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport TextAreaGroup from '../common/TextAreaGroup';\r\nimport { addPost } from '../../actions/postAction';\r\nclass PostForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            text:'',\r\n            errors:{}\r\n        }\r\n        this.onChange=this.onChange.bind(this);\r\n        this.onSubmit=this.onSubmit.bind(this);\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const {user} = this.props.auth;\r\n       \r\n        const newPost ={\r\n            text:this.state.text,\r\n            name:user.name,\r\n            avatar:user.avatar\r\n        }\r\n        console.log(newPost);\r\n        this.props.addPost(newPost);\r\n        this.setState({text : ' '});\r\n       \r\n    }\r\n    onChange(e) {\r\n       \r\n         this.setState({[e.target.name] : e.target.value})\r\n         \r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if(nextProps.errors) {\r\n            this.setState({errors:nextProps.errors});\r\n            \r\n        }\r\n    }\r\n\r\n    render() {\r\n       const {errors} = this.state;\r\n        return (\r\n            <div className=\"feed\">\r\n                <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                    <div className=\"post-form mb-3\">\r\n                        <div className=\"card card-info\">\r\n                        <div className=\"card-header bg-info text-white\">\r\n                            Say Something...\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <form onSubmit={this.onSubmit}>\r\n                                <div className=\"form-group\">\r\n                                    <TextAreaGroup \r\n                                    name=\"text\"\r\n                                    value={this.state.text}\r\n                                    placeholder=\"Create a Post\"\r\n                                    onChange={this.onChange}\r\n                                    errors={errors.text}\r\n                                    />\r\n                                </div>\r\n                                <button type=\"submit\" className=\"btn btn-dark\">Submit</button>\r\n                            </form>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                   \r\n                    </div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\naddPost.propTypes={\r\n    addPost:PropTypes.func.isRequired,\r\n    auth:PropTypes.object.isRequired,\r\n    errors:PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps =(state) =>({\r\nauth:state.auth,\r\nerrors:state.errors\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps, {addPost})(PostForm);"]},"metadata":{},"sourceType":"module"}