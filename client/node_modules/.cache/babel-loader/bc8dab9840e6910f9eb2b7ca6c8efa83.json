{"ast":null,"code":"import _defineProperty from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{loginUser}from'../../actions/authAction';import TextFieldGroup from'../common/TextFieldGroup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.state={email:'',password:'',errors:{}};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.auth.isAuthenticated){this.props.history.push('/dashboard');}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.auth.isAuthenticated){this.props.history.push('/dashboard');}if(nextProps.errors.errors){this.setState({errors:nextProps.errors.errors});}}},{key:\"onChange\",value:function onChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"onSubmit\",value:function onSubmit(event){event.preventDefault();var user={email:this.state.email,password:this.state.password};this.props.loginUser(user);}},{key:\"render\",value:function render(){var errors=this.state.errors;return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 m-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4 text-center\",children:\"Log In\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead text-center\",children:\"Sign in to your DevConnector account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(TextFieldGroup,{type:\"email\",name:\"email\",placeholder:\"Email Address\",value:this.state.email,onChange:this.onChange,errors:errors.email}),/*#__PURE__*/_jsx(TextFieldGroup,{type:\"password\",name:\"password\",placeholder:\"Password\",value:this.state.password,onChange:this.onChange,errors:errors.password}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-info btn-block mt-4\"})]})]})})})});}}]);return Login;}(Component);var mapStateToprops=function mapStateToprops(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToprops,{loginUser:loginUser})(Login);","map":{"version":3,"sources":["C:/Users/aman/Desktop/Dev-connector/client/src/components/auth/Login.js"],"names":["React","Component","connect","loginUser","TextFieldGroup","Login","state","email","password","errors","onChange","bind","onSubmit","props","auth","isAuthenticated","history","push","nextProps","setState","event","target","name","value","preventDefault","user","mapStateToprops"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport {loginUser} from '../../actions/authAction';\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\n class Login extends Component {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n        this.state={\r\n            email:'',\r\n            password:'',\r\n            errors:{}\r\n        }\r\n        this.onChange =this.onChange.bind(this);\r\n        this.onSubmit=this.onSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n      if(this.props.auth.isAuthenticated) {\r\n        this.props.history.push('/dashboard');\r\n      }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n\r\n      if(nextProps.auth.isAuthenticated) {\r\n        this.props.history.push('/dashboard')\r\n      }\r\n\r\n      if(nextProps.errors.errors) {\r\n        this.setState({errors:nextProps.errors.errors})\r\n      }\r\n    }\r\n    onChange(event) {\r\n        this.setState({[event.target.name] :event.target.value})\r\n    } \r\n   \r\n  \r\n    onSubmit(event) {\r\n\r\n        event.preventDefault();\r\n        const user={\r\n            email:this.state.email,\r\n            password:this.state.password\r\n        }\r\n        this.props.loginUser(user)\r\n    }\r\n\r\n    render() {\r\n\r\n      const {errors} =this.state;\r\n\r\n        return (\r\n            <div className=\"login\">\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 m-auto\">\r\n          <h1 className=\"display-4 text-center\">Log In</h1>\r\n          <p className=\"lead text-center\">Sign in to your DevConnector account</p>\r\n          <form onSubmit={this.onSubmit}>\r\n  \r\n            <TextFieldGroup \r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email Address\"\r\n            value={this.state.email}\r\n            onChange={this.onChange} \r\n            errors={errors.email}\r\n            />\r\n     \r\n             <TextFieldGroup \r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            value={this.state.password}\r\n            onChange={this.onChange} \r\n            errors={errors.password}\r\n            />\r\n           \r\n            <input type=\"submit\" className=\"btn btn-info btn-block mt-4\" />\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n        )\r\n    }\r\n}\r\n\r\nLogin.propTypes ={\r\n  loginUser:PropTypes.func.isRequired,\r\n  auth:PropTypes.object.isRequired,\r\n  errors:PropTypes.object.isRequired\r\n}\r\n\r\n\r\nconst mapStateToprops =(state) => ({\r\n  auth:state.auth,\r\n  errors:state.errors\r\n})\r\n\r\nexport default connect(mapStateToprops, {loginUser})(Login);"]},"metadata":{},"sourceType":"module"}