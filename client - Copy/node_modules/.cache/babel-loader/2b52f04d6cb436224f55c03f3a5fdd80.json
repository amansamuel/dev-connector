{"ast":null,"code":"import axios from\"axios\";import{GET_ERRORS,PROFILE_LOADING,CLEAR_CURRENT_PROFILE,SET_CURRENT_USER,GET_PROFILE,GET_PROFILES}from\"./types\";export var getCurrentProfile=function getCurrentProfile(){return function(dispatch){dispatch(setProfileLoading());axios.get('/api/profile').then(function(res){return dispatch({type:GET_PROFILE,payload:res.data});}).catch(function(err){return dispatch({type:GET_PROFILE,payload:err.response.data});});};};export var setProfileLoading=function setProfileLoading(){return{type:PROFILE_LOADING};};export var clearCurrentProfile=function clearCurrentProfile(){return{type:CLEAR_CURRENT_PROFILE};};export var deleteAccount=function deleteAccount(){return function(dispatch){if(window.confirm('Are you sure you want to delete your profile?')){axios.delete('/api/profile').then(function(res){return dispatch({type:SET_CURRENT_USER,payload:{}});}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});}};};export var createProfile=function createProfile(profileData,history){return function(dispatch){axios.post('/api/profile',profileData).then(function(res){return history.push('/dashbord');}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};export var addExperience=function addExperience(expData,history){return function(dispatch){axios.post('/api/profile/experience',expData).then(function(res){return history.push('/dashboard');}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};export var addEducation=function addEducation(expData,history){return function(dispatch){axios.post('/api/profile/education',expData).then(function(res){return history.push('/dashboard');}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};export var getProfiles=function getProfiles(){return function(dispatch){dispatch(setProfileLoading());axios.get('/api/profile/all').then(function(res){return dispatch({type:GET_PROFILES,payload:res.data});}).catch(function(err){return dispatch({type:GET_PROFILES,payload:err.response.data});});};};export var getProfileByHandle=function getProfileByHandle(handle){return function(dispatch){dispatch(setProfileLoading());axios.get(\"/api/profile/handle/\".concat(handle)).then(function(res){return dispatch({type:GET_PROFILE,payload:res.data});}).catch(function(err){return dispatch({type:GET_PROFILES,payload:null});});};};export var deleteEducation=function deleteEducation(id){return function(dispatch){axios.delete(\"/api/profile/education/\".concat(id)).then(function(res){return dispatch({type:GET_PROFILE,payload:res.data});}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};export var deleteExperience=function deleteExperience(id){return function(dispatch){axios.delete(\"/api/profile/experience/\".concat(id)).then(function(res){return dispatch({type:GET_PROFILE,payload:res.data});}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};","map":{"version":3,"sources":["C:/Users/aman/Desktop/Dev-connector/client/src/actions/profileActions.js"],"names":["axios","GET_ERRORS","PROFILE_LOADING","CLEAR_CURRENT_PROFILE","SET_CURRENT_USER","GET_PROFILE","GET_PROFILES","getCurrentProfile","dispatch","setProfileLoading","get","then","res","type","payload","data","catch","err","response","clearCurrentProfile","deleteAccount","window","confirm","delete","createProfile","profileData","history","post","push","addExperience","expData","addEducation","getProfiles","getProfileByHandle","handle","deleteEducation","id","deleteExperience"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { \r\n    GET_ERRORS,\r\n    PROFILE_LOADING, \r\n    CLEAR_CURRENT_PROFILE, \r\n    SET_CURRENT_USER,\r\n    GET_PROFILE,\r\n    GET_PROFILES } from \"./types\";\r\n\r\nexport const getCurrentProfile = () => dispatch =>{\r\n\r\n    dispatch(setProfileLoading());\r\n    axios\r\n     .get('/api/profile')\r\n      .then(res =>\r\n        dispatch({\r\n            type:GET_PROFILE,\r\n            payload:res.data\r\n        })\r\n        ).catch(err => \r\n            dispatch({\r\n            type:GET_PROFILE,\r\n            payload:err.response.data\r\n        }))\r\n}\r\n\r\nexport const setProfileLoading = () => {\r\n\r\n    return {\r\n        type:PROFILE_LOADING \r\n    }\r\n}\r\nexport const clearCurrentProfile = () => {\r\n\r\n    return {\r\n        type:CLEAR_CURRENT_PROFILE \r\n    }\r\n}\r\n\r\nexport const deleteAccount =() =>dispatch =>{\r\n    if(window.confirm('Are you sure you want to delete your profile?')) {\r\n        axios\r\n            .delete('/api/profile')\r\n            .then(res =>\r\n                dispatch({\r\n                    type:SET_CURRENT_USER,\r\n                    payload:{}\r\n                })\r\n                ).catch(err =>\r\n                    dispatch({\r\n                        type:GET_ERRORS,\r\n                        payload:err.response.data\r\n                    }))\r\n    }\r\n}\r\n\r\n\r\nexport const createProfile = (profileData,history) =>(dispatch) => {\r\n    axios\r\n        .post('/api/profile',profileData)\r\n          .then(res =>history.push('/dashbord'))\r\n           .catch(err =>\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data\r\n\r\n            }))\r\n}\r\nexport const addExperience =(expData, history) =>dispatch =>{\r\n\r\n    axios.post('/api/profile/experience',expData)\r\n         .then(res =>history.push('/dashboard'))\r\n         .catch(err=>\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data \r\n            }\r\n            ))\r\n}\r\nexport const addEducation =(expData, history) =>dispatch =>{\r\n\r\n    axios.post('/api/profile/education',expData)\r\n         .then(res =>history.push('/dashboard'))\r\n         .catch(err=>\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data \r\n            }\r\n            ))\r\n}\r\nexport const getProfiles = () => dispatch => {\r\n    dispatch(setProfileLoading());\r\n    axios\r\n      .get('/api/profile/all')\r\n       .then(res =>\r\n        dispatch({\r\n          type: GET_PROFILES,\r\n          payload: res.data\r\n        })\r\n      )\r\n      .catch(err =>\r\n        dispatch({\r\n          type: GET_PROFILES,\r\n          payload:err.response.data\r\n        })\r\n      );\r\n  };\r\nexport const getProfileByHandle = (handle) =>dispatch =>{\r\n    dispatch(setProfileLoading());\r\n    axios.get(`/api/profile/handle/${handle}`)\r\n         .then(res=>\r\n            dispatch({\r\n                type:GET_PROFILE,\r\n                payload:res.data \r\n            }\r\n            )).catch(err=>\r\n            dispatch({\r\n                type:GET_PROFILES,\r\n                payload:null\r\n            }\r\n            ))\r\n}\r\n\r\nexport const deleteEducation =(id) =>dispatch =>{\r\n  \r\n    axios.delete(`/api/profile/education/${id}`)\r\n    .then(res =>\r\n        dispatch({\r\n            type:GET_PROFILE,\r\n            payload:res.data\r\n        })\r\n        )\r\n    .catch(err=>\r\n       dispatch({\r\n           type:GET_ERRORS,\r\n           payload:err.response.data \r\n       }\r\n       ))  \r\n}\r\n\r\n\r\nexport const deleteExperience = (id) =>dispatch => {\r\n    axios.delete(`/api/profile/experience/${id}`)\r\n    .then(res =>\r\n        dispatch({\r\n            type:GET_PROFILE,\r\n            payload:res.data\r\n        })\r\n        )\r\n    .catch(err=>\r\n       dispatch({\r\n           type:GET_ERRORS,\r\n           payload:err.response.data \r\n       }\r\n       ))    \r\n}"]},"metadata":{},"sourceType":"module"}