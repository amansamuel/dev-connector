{"ast":null,"code":"import _classCallCheck from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/aman/Desktop/Dev-connector/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{Link}from'react-router-dom';import classnames from'classnames';import{deletePost,likePost,removeLike}from'../../actions/postAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostItem=/*#__PURE__*/function(_Component){_inherits(PostItem,_Component);var _super=_createSuper(PostItem);function PostItem(){_classCallCheck(this,PostItem);return _super.apply(this,arguments);}_createClass(PostItem,[{key:\"onDeleteClick\",value:function onDeleteClick(id){this.props.deletePost(id);}},{key:\"likePost\",value:function likePost(id){this.props.likePost(id);}},{key:\"unlikePost\",value:function unlikePost(id){this.props.removeLike(id);}},{key:\"findUserLike\",value:function findUserLike(likes){var auth=this.props.auth;if(likes.filter(function(like){return like.user===auth.user.id;}).length>0){return true;}else{return false;}}},{key:\"render\",value:function render(){var _this$props=this.props,post=_this$props.post,auth=_this$props.auth,showActions=_this$props.showActions;return/*#__PURE__*/_jsx(\"div\",{className:\"posts\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card card-body mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-2\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"profile.html\",children:/*#__PURE__*/_jsx(\"img\",{className:\"rounded-circle d-none d-md-block\",src:\"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?s=200\",alt:\"\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:post.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-10\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:post.text}),showActions?/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:this.likePost.bind(this,post._id),className:\"btn btn-light mr-1\",children:[/*#__PURE__*/_jsx(\"i\",{className:classnames('fas fa-thumbs-up',{'text-info':this.findUserLike(post.likes)})}),/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-light\",children:post.likes.length})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.unlikePost.bind(this,post._id),className:\"btn btn-light mr-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"text-secondary fas fa-thumbs-down\"})}),/*#__PURE__*/_jsx(Link,{to:\"/post/\".concat(post._id),className:\"btn btn-info mr-1\",children:\"Comments\"}),post.user===auth.user.id?/*#__PURE__*/_jsx(\"button\",{onClick:this.onDeleteClick.bind(this,post._id),type:\"button\",className:\"btn btn-danger mr-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})}):null]}):null]})]})})});}}]);return PostItem;}(Component);PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{deletePost:deletePost,likePost:likePost,removeLike:removeLike})(PostItem);","map":{"version":3,"sources":["C:/Users/aman/Desktop/Dev-connector/client/src/components/post/PostItem.js"],"names":["React","Component","connect","Link","classnames","deletePost","likePost","removeLike","PostItem","id","props","likes","auth","filter","like","user","length","post","showActions","name","text","bind","_id","findUserLike","unlikePost","onDeleteClick","defaultProps","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport {PropTypes} from 'prop-types';\r\nimport {Link} from 'react-router-dom';\r\nimport classnames from 'classnames'\r\nimport {deletePost,likePost,removeLike} from '../../actions/postAction'\r\n class PostItem extends Component {\r\n\r\n    onDeleteClick(id) {\r\n        this.props.deletePost(id);\r\n    }\r\n    likePost(id) {\r\n        this.props.likePost(id);\r\n    }\r\n    unlikePost(id) {\r\n       this.props.removeLike(id)\r\n    }\r\n    findUserLike(likes) {\r\n         const {auth} =this.props;\r\n        \r\n         if(likes.filter(like =>like.user === auth.user.id).length > 0) {\r\n             return true\r\n         } else {\r\n             return false;\r\n         }\r\n    }\r\n    render() {\r\n        const {post,auth,showActions} =this.props;\r\n\r\n        \r\n        return (\r\n            <div className=\"posts\">\r\n                    \r\n                        <div className=\"card card-body mb-3\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-2\">\r\n                            <a href=\"profile.html\">\r\n                                <img className=\"rounded-circle d-none d-md-block\" src=\"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?s=200\"\r\n                                alt=\"\" />\r\n                            </a>\r\n                            <br />\r\n                            <p className=\"text-center\">{post.name}</p>\r\n                            </div>\r\n                            <div className=\"col-md-10\">\r\n                            <p className=\"lead\">{post.text}</p>\r\n                            {showActions ? (\r\n                                <span>\r\n                                    <button type=\"button\" onClick={this.likePost.bind(this, post._id)} className=\"btn btn-light mr-1\">\r\n                                <i className={\r\n                                    classnames('fas fa-thumbs-up',\r\n                                    {'text-info':this.findUserLike(post.likes)})}>\r\n                                 </i>\r\n                                <span className=\"badge badge-light\">{post.likes.length}</span>\r\n                                \r\n                            </button>\r\n                            <button type=\"button\" onClick={this.unlikePost.bind(this, post._id)} className=\"btn btn-light mr-1\">\r\n                                <i className=\"text-secondary fas fa-thumbs-down\"></i>\r\n                            </button>\r\n                            <Link to={`/post/${post._id}`} className=\"btn btn-info mr-1\">\r\n                                Comments\r\n                            </Link>\r\n                            {post.user ===auth.user.id ? (\r\n                                <button onClick={this.onDeleteClick.bind(this,post._id)} type=\"button\" className=\"btn btn-danger mr-1\">\r\n                                <i className=\"fas fa-times\" />\r\n                            </button>\r\n                            ) :null}\r\n                                </span>\r\n                            ) : null}\r\n                             \r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n\r\n                    </div> \r\n        )\r\n    }\r\n}\r\nPostItem.propTypes={\r\n    deletePost:PropTypes.func.isRequired,\r\n    likePost:PropTypes.func.isRequired,\r\n    removeLike:PropTypes.func.isRequired,\r\n    post:PropTypes.object.isRequired,\r\n    auth:PropTypes.object.isRequired\r\n}\r\nPostItem.defaultProps ={\r\n    showActions:true\r\n}\r\nconst mapStateToProps =(state) =>({\r\n    auth:state.auth,\r\n})\r\n\r\nexport default connect(mapStateToProps, {deletePost,likePost,removeLike})(PostItem);\r\n"]},"metadata":{},"sourceType":"module"}